<div ng-controller="DrawingsController" ng-init="init()">

    <h3>Drawing: {{drawing.name}}</h3>
<!-- TODO: Min like theres no tomorrow. These images, should we jsut use bootstrap? takes a long time  -->

<!-- TODO: insert userID area if logged in -->
    <div class="container">

      <div class="btn-toolbar navbar-left" role="toolbar" aria-label="Toolbar with button groups">
        <div class="btn-group">
             <h5> tools </h5> 
            <img src="img/hand-up.png" class="toolButton-{{ drawingMode === 'default' ? 'on' : 'off'}}" ng-click="changeDrawingMode('default')">
            <img src="img/pencil.png" class="toolButton-{{ drawingMode === 'free' ? 'on' : 'off'}}" ng-click="changeDrawingMode('free')">
            <img src="img/fill-tint.png" class="toolButton-{{ drawingMode === 'fill' ? 'on' : 'off'}}" ng-click="changeDrawingMode('fill')">
            <img src="img/text-resize.png" class="toolButton-{{ drawingMode === 'text' ? 'on' : 'off'}}" ng-click="changeDrawingMode('text')">
        </div>
        <div class="btn-group">
            <h5> shapes </h5> 
            <!-- TODO: make btns with active class -->
            <img src="img/vector-path-line.png" class="toolButton-{{ drawingMode === 'line' ? 'on' : 'off'}}" ng-click="changeDrawingMode('line')">
            <img src="img/vector-path-circle.png" class="toolButton-{{ drawingMode === 'circle' ? 'on' : 'off'}}" ng-click="changeDrawingMode('circle')">
            <img src="img/vector-path-square.png" class="toolButton-{{ drawingMode === 'rectangle' ? 'on' : 'off'}}" ng-click="changeDrawingMode('rectangle')">

            <!-- TODO: Points/drop down fxn for polygon...should be able to do penta to decagon -->
            <!-- feed it in as an input? call a points fxn -->
            <img src="img/vector-path-polygon.png" class="toolButton-{{ drawingMode === 'polygon' ? 'on' : 'off'}}" ng-click="changeDrawingMode('polygon')">
        </div>
        <div class="btn-group">
             <h5> undo/redo </h5> 
            <img src="img/fast-backward.png" class="layer-controls" ng-click="changeLayerPosition('sendToBack')">
            <img src="img/step-backward.png" class="layer-controls" ng-click="changeLayerPosition('sendBackwards')">
            <img src="img/step-forward.png" class="layer-controls" ng-click="changeLayerPosition('bringForward')">
            <img src="img/fast-forward.png" class="layer-controls" ng-click="changeLayerPosition('bringToFront')">

        </div>
        <div class="btn-group"> 
             <h5> colors </h5> 
            <button type="button" class="btn btn-primary" id="redBtn" ng-click="updateColor('red')"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            <button type="button" class="btn btn-primary btn-sm" id="whiteBtn" ng-click="updateColor('white')"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            <button type="button" class="btn btn-primary btn-sm" id="blueBtn" ng-click="updateColor('blue')"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            <button type="button" class="btn btn-primary btn-sm" id="blackBtn" ng-click="updateColor('black')"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            <button type="button" class="btn btn-primary btn-sm" id="pinkBtn" ng-click="updateColor('pink')"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            <button type="button" class="btn btn-primary btn-sm" id="yellowBtn" ng-click="updateColor('yellow')"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
            <div style="display: block; float: left; padding-right: 10px">
                <div class="colorbox" id="currentColorBox" ng-style="{backgroundColor: currentColor}"></div>
                <div>Color</div>
            </div>

             <!-- HTML5 Color Picker -->
<input type="color" ng-model="test" name="colorpicker" id="" />
<!-- TODO: make this work -->
<button type="button" class="btn btn-primary btn-sm" id="colorPickerBtn" ng-click="updateColor({{test}})"> <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
<div class="colorpicker" style="background-color:{{test}}">{{test}}</div>
        </div> 
           <!-- TODO: intelligently add button/pen with HTML5 colorpicker -->
        </div> 
        </div>
        <!-- TODO: put chat in a footer page -->
    
    <canvas id="c"></canvas>
    <div class="chat-area">
    <div class="chat">
        <div class="chat-head"> Chat! </div>
            <ul id="messages" style="padding-left: 4px"></ul>
        <form action="">
            <input id="m" autocomplete="off" /><button>Send</button>
        </form>
    </div>
    </div>


</div>
